{"version":3,"sources":["contexts/CurrentUserContext.js","images/header_logo.svg","components/Logout.js","components/Header.js","components/InfoTooltip.js","images/Union-success.png","images/Union-error.png","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","contexts/AuthContext.js","utils/Auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Logout","props","className","onClick","onSignOut","Header","target","href","src","logo","alt","exact","path","email","to","InfoTooltip","isOpen","isSuccess","type","onClose","Card","onCardClick","card","onCardDelete","onCardLike","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","style","backgroundImage","link","name","length","Main","cards","onEditProfile","onAddPlace","onEditAvatar","avatar","about","map","Footer","Date","getFullYear","PopupWithForm","onSubmit","heading","method","children","value","saveButtonValue","ImagePopup","api","options","this","_address","baseUrl","_token","headers","authorization","res","ok","json","Promise","reject","status","endpoint","body","fetchInit","fetch","JSON","stringify","then","_handleResponse","_createRequest","userInfo","data","id","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","placeholder","onChange","minLength","maxLength","required","EditAvatarPopup","setAvatar","onUpdateAvatar","AddPlacePopup","nameRef","useRef","linkRef","current","ref","Login","state","username","password","handleChange","bind","handleSubmit","setState","onLogin","Component","withRouter","Register","setEmail","setPassword","onRegister","ProtectedRoute","loggedIn","AuthContext","isLoggedIn","AuthContextWrapper","setIsLoggedIn","Provider","setupLoggedIn","auth","token","App","setCurrentUser","emailData","setEmailData","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCards","history","useHistory","isInfoTooltipOpen","setIsInfoTooltipOpen","isInfoTooltipSuccess","setIsInfoTooltipSuccess","closeAllPopups","all","getUserInfo","getInitialCards","userData","catch","err","console","log","localStorage","getItem","push","tokenCheck","removeItem","register","finally","login","setItem","like","newCard","c","deleteCard","filter","updateUserInfo","postCard","editAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.646a32ad.chunk.js","sourcesContent":["import React from 'react'\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext","export default __webpack_public_path__ + \"static/media/header_logo.abb64ac9.svg\";","export function Logout(props) {\n\n    return(\n        <button className=\"header__user-exit\" onClick={props.onSignOut}>Выйти</button>\n    )\n}","import React from 'react';\nimport logo from '../images/header_logo.svg'\nimport { Route, Switch, Link } from 'react-router-dom';\nimport {Logout} from './Logout';\n\nfunction Header(props) {\n  \n  return (\n    <header className=\"header\">\n      <a className=\"header__link\" target=\"_blank\" href=\"#\"><img className=\"header__logo\" src={logo} alt=\"Логотип\"/></a>\n      \n      <div className=\"header__user\">\n        <Switch>\n          <Route exact path=\"/\">\n              <p className=\"header__user-email\">{props.email}</p>\n              <Logout onSignOut={props.onSignOut}>Выйти</Logout>\n          </Route>\n          \n          <Route path=\"/sign-up\">\n              <Link to=\"/sign-in\" className=\"header__user-exit\">Войти</Link>\n          </Route>\n          \n          <Route path=\"/sign-in\">\n              <Link to=\"/sign-up\" className=\"header__user-exit\">Регистрация</Link>\n          </Route>\n        </Switch>\n      </div>\n      \n    </header>\n  );\n}\n\nexport default Header;","import React from 'react';\nimport unionSuccess from '../images/Union-success.png';\nimport unionFail from '../images/Union-error.png';\n\nfunction InfoTooltip(props) {\n  // console.log(props.isSuccess)\n  return (\n    <section className={`popup ${props.isOpen ? 'popup_active' : ''}`}>\n        <div className=\"popup__container popup__container_info\">\n            <img className=\"popup__image_info\" src={props.isSuccess ? unionSuccess : unionFail} alt={props.isSuccess ? 'Регистрация успешна' : 'Ошибка регистрации'}/>\n            <h2 className=\"popup__heading popup__heading_info\">\n              {props.isSuccess ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}\n            </h2>\n            <button className=\"popup__close\" type=\"button\" onClick={props.onClose}></button>\n        </div>   \n    </section>\n  );\n}\n\nexport default InfoTooltip","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Card({onCardClick, card, onCardDelete, onCardLike}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `photo-grid__delete ${isOwn ? 'photo-grid__delete_visible' : ''}`\n  );\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = (\n    `photo-grid__like ${isLiked ? 'photo-grid__like-active' : ''}`\n  ); \n\n  function handleClick() {\n    onCardClick(card);\n  } \n\n  function handleLikeClick() {\n    onCardLike(card)\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card)\n  }\n\n  return(\n    <li className=\"photo-grid__item\">\n      <div onClick={handleClick} className=\"photo-grid__image\" style={{ backgroundImage: `url(${card.link})` }}></div>\n      <h2 className=\"photo-grid__title\">{card.name}</h2>\n      <div>\n        <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick} ></button>\n        <p className=\"photo-grid__like-count\">{card.likes.length}</p>\n      </div>\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick} ></button>\n    </li>\n  );\n}\n\nexport default Card;","import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport Card from './Card'\n\nfunction Main({cards, onCardLike, onCardDelete, onEditProfile, onAddPlace, onEditAvatar, onCardClick}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n        <section className=\"profile\">\n            <button className=\"profile__avatar\" style={{ backgroundImage: `url(${currentUser.avatar})` }} type=\"button\">\n                <div className=\"profile__avatar-edit\" onClick={onEditAvatar}></div>\n            </button>\n\n            <div className=\"profile__details\">\n                <h1 className=\"profile__title\">{currentUser.name}</h1>\n                <p className=\"profile__subtitle\">{currentUser.about}</p>\n                <button className=\"profile__edit-button\" type=\"button\" onClick={onEditProfile}></button>\n            </div>\n            <button className=\"profile__add\" type=\"button\" onClick={onAddPlace}></button>\n        </section>\n\n        <ul className=\"photo-grid\">\n          {cards.map((card) => {\n            return(\n              <Card onCardClick={onCardClick} key={card._id} card={card} onCardDelete={onCardDelete} onCardLike={onCardLike} />\n            )\n          })}\n        </ul>\n    \n    </main>\n  );\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n        <p className=\"footer__text\">&copy; {new Date().getFullYear()} Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;","import React from 'react';\n\nfunction PopupWithForm(props) {\n\n  return (\n    <section onSubmit={props.onSubmit} className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_active' : ''}`}>\n        <div className=\"popup__container\">\n            <h2 className=\"popup__heading\">{props.heading}</h2>\n            <form className=\"popup__form popup__form_edit\" name={props.name} method=\"post\">\n                {props.children}\n                <input className=\"popup__button popup__save-button\" type=\"submit\" value={props.saveButtonValue}/>\n            </form>\n            <button className=\"popup__close\" type=\"button\" onClick={props.onClose}></button>\n        </div>   \n    </section>\n  );\n}\n\nexport default PopupWithForm;","import React from 'react';\n\nfunction ImagePopup(props) {\n  return (\n    <section className={`popup popup_type_image ${props.card ? 'popup_active' : ''}`}>\n        <figure className=\"popup__image-container\">\n            <img className=\"popup__image\" src={`${props.card ? props.card.link : ''}`} alt={`${props.card ? props.card.name : ''}`}/>\n            <figcaption className=\"popup__image-title\">{`${props.card ? props.card.name : ''}`}</figcaption>\n            <button onClick={props.onClose} className=\"popup__close\" type=\"button\"></button>\n        </figure>\n    </section>\n  );\n}\n\nexport default ImagePopup;","export class Api {\n    constructor(options) {\n      this._address = options.baseUrl;\n      this._token = options.headers.authorization;\n    }\n\n    _handleResponse(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        // если ошибка, отклоняем промис\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n\n    _createRequest(endpoint, method, body) {\n        const fetchInit = {\n            method: method,\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            }\n        }\n\n        return fetch(\n            `${this._address}/${endpoint}`,\n            body ? { ...fetchInit, body: JSON.stringify(body) } : fetchInit\n            )\n        .then(this._handleResponse)\n    }\n\n    getUserInfo() {\n        return this._createRequest('users/me', 'GET')\n    }\n\n    getInitialCards() {\n        return this._createRequest('cards', 'GET')\n    }\n    \n    updateUserInfo(userInfo) {\n        return this._createRequest('users/me', 'PATCH', userInfo)\n    }\n    \n    postCard(data) {\n        return this._createRequest('cards', 'POST', data)\n    }\n\n\n    deleteCard(id) {\n        return this._createRequest(`cards/${id}`, 'DELETE')\n    }\n\n    like(id, isLiked) {\n        return this._createRequest(`cards/likes/${id}`, isLiked ? 'PUT' : 'DELETE')\n    }\n\n    editAvatar(avatar) {\n        return this._createRequest('users/me/avatar', 'PATCH', avatar)\n    }\n}\n\nconst api = new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-24',\n    headers: {\n      authorization: '197e4656-d963-4ef2-94ca-2fcf60ccdd88',\n      'Content-Type': 'application/json'\n    }\n  });\n\nexport default api","import React, { useEffect, useState} from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm'\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  useEffect(() => {\n    setName(currentUser.name || '');\n    setDescription(currentUser.about || '');\n  }, [currentUser, props.isOpen]); \n\n  function handleSubmit(e) {\n    e.preventDefault();\n  \n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  } \n  \n  return (\n    <PopupWithForm onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} name=\"edit\" heading=\"Редактировать профиль\" saveButtonValue=\"Сохранить\" >\n        <input className=\"popup__input popup__input_value_name\" placeholder=\"Имя\" type=\"text\" name=\"name\" id=\"name\" value={name} onChange={handleNameChange} minLength=\"2\" maxLength=\"40\" required/>\n        <span className=\"popup__error\" id=\"name-error\"></span>\n        <input className=\"popup__input popup__input_value_title\" placeholder=\"Вид деятельности\" type=\"text\" name=\"about\" id=\"title\" value={description} onChange={handleDescriptionChange} minLength=\"2\" maxLength=\"200\" required/>\n        <span className=\"popup__error\" id=\"title-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;","import React, { useState } from 'react';\nimport PopupWithForm from './PopupWithForm'\n\nfunction EditAvatarPopup(props) {\n    const [avatar, setAvatar] = useState('');\n\n    function handleAvatarChange(e) {\n        setAvatar(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n    \n        props.onUpdateAvatar({\n          avatar: avatar\n        });\n    } \n  \n    return (\n    <PopupWithForm onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} name=\"edit-avatar\" heading=\"Обновить аватар\" saveButtonValue=\"Сохранить\" >\n        <input onChange={handleAvatarChange} className=\"popup__input popup__input_value_avatar\" type=\"url\" name=\"avatar\" id=\"avatar\" placeholder=\"Ссылка на изображение\" required/>\n        <span className=\"popup__error\" id=\"avatar-error\"></span>\n    </PopupWithForm>\n    );\n}\n\nexport default EditAvatarPopup;","import React, { useRef, useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm'\n\nfunction AddPlacePopup(props) {\n\n  const nameRef = useRef();\n  const linkRef = useRef();\n\n  useEffect(() => {\n    nameRef.current.value = '';\n    linkRef.current.value = '';\n  }, [props.isOpen]);\n\n  function handleAddPlaceSubmit(e) {\n    e.preventDefault();\n    \n    props.onAddPlace({\n        name: nameRef.current.value,\n        link: linkRef.current.value\n    })\n  }\n\n  return (\n    <PopupWithForm onSubmit={handleAddPlaceSubmit} isOpen={props.isOpen} onClose={props.onClose} name=\"new-place\" heading=\"Новое место\" saveButtonValue=\"Создать\" >\n        <input ref={nameRef} className=\"popup__input popup__input_value_heading\" type=\"text\" name=\"name\" id=\"heading\" placeholder=\"Новое место\" minLength=\"2\" maxLength=\"30\" required/>\n        <span className=\"popup__error\" id=\"heading-error\"></span>\n        <input ref={linkRef} className=\"popup__input popup__input_value_image\" type=\"url\" name=\"link\" id=\"image\" placeholder=\"Ссылка на изображение\" required/>\n        <span className=\"popup__error\" id=\"image-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport { withRouter } from 'react-router-dom';\n\nclass Login extends React.Component {\n  \n\n  constructor(props){\n    super(props);\n    \n    this.state = {\n      username: '',\n      password: ''\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this)\n  }\n  handleChange(e) {\n    const {name, value} = e.target;\n    this.setState({\n      [name]: value\n    });\n  }\n  handleSubmit(e){\n    e.preventDefault();\n   \n    if (!this.state.username || !this.state.password){\n      return;\n    }\n\n    this.props.onLogin({\n      password: this.state.password,\n      email: this.state.username\n    })\n  }\n  \n  render(){\n    return( \n      <section className=\"register\">\n        <h2 className=\"register__heading\">Вход</h2>\n        <form className=\"register__form\" onSubmit={this.handleSubmit} method=\"post\">\n          <input className=\"register__input register__input_value_email\" name=\"username\" value={this.state.username} onChange={this.handleChange} placeholder=\"Email\" type=\"text\" id=\"username\" minLength=\"2\" maxLength=\"40\" required/>\n          <span className=\"register__error\" id=\"email-error\"></span>\n          <input className=\"register__input register__input_value_password\" name=\"password\" value={this.state.password} onChange={this.handleChange} placeholder=\"Пароль\" type=\"password\" id=\"password\" minLength=\"2\" maxLength=\"200\" required/>\n          <span className=\"register__error\" id=\"password-error\"></span>\n          <input className=\"register__button register__save-button\" type=\"submit\" value=\"Войти\"/>\n        </form>\n      </section>\n    )\n  }\n}\n\nexport default withRouter(Login);","import React, { useState} from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Register(props) {\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  function handleEmailChange(e) {\n    setEmail(e.target.value);\n  }\n\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onRegister({\n      password: password,\n      email: email\n    });\n  }\n\n\n  return (\n    <section className=\"register\" >\n        <h2 className=\"register__heading\">Регистрация</h2>\n        <form className=\"register__form\" onSubmit={handleSubmit} method=\"post\">\n          <input className=\"register__input register__input_value_email\" value={email} onChange={handleEmailChange} placeholder=\"Email\" type=\"text\" name=\"email\" id=\"email\" minLength=\"2\" maxLength=\"40\" required/>\n          <span className=\"register__error\" id=\"email-error\"></span>\n          <input className=\"register__input register__input_value_password\" value={password} onChange={handlePasswordChange} placeholder=\"Пароль\" type=\"password\" name=\"password\" id=\"password\" minLength=\"2\" maxLength=\"200\" required/>\n          <span className=\"register__error\" id=\"password-error\"></span>\n          <input className=\"register__button register__save-button\" type=\"submit\" value=\"Зарегистрироваться\"/>\n        </form>\n        <p className=\"register__registered\">\n          Уже зарегистрированы?\n          <Link to=\"/sign-in\" className=\"register__login\"> Войти</Link>\n          </p>\n    </section>\n  );\n}\n\nexport default Register;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = (props) => {\n  \n  return(\n    \n    <Route>{props.loggedIn ? props.children : <Redirect to='/sign-in'/>}</Route>\n  )\n}\n\nexport default ProtectedRoute;","import React, { useState } from 'react';\n\nexport const AuthContext = React.createContext( {isLoggedIn: false} );\n\nexport const AuthContextWrapper = ({children}) => {\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n    function toggle(value) {\n        setIsLoggedIn(value)\n    }\n\n    return <AuthContext.Provider value={{isLoggedIn, setupLoggedIn: toggle}}>\n        {children}\n    </AuthContext.Provider>\n}","class Auth {\n  constructor(options) {\n    this._address = options.baseUrl;\n  }\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  register(password, email) {\n    return fetch(`${this._address}/signup`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        \"password\": password,\n        \"email\": email\n      })\n    })\n    .then(this._handleResponse)\n  }\n  \n  login(password, email) {\n    return fetch(`${this._address}/signin`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        \"password\": password,\n        \"email\": email\n      })\n    })\n    .then(this._handleResponse)\n}\n\n  authorization = (token) => {\n    return fetch(`${this._address}/users/me`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          \"Authorization\": `Bearer ${token}`\n        }\n      })\n      .then(this._handleResponse)\n  }\n}\n\nconst auth = new Auth({\n  baseUrl: 'https://auth.nomoreparties.co'\n});\n\nexport default auth","import React, { useState, useEffect, useContext } from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport InfoTooltip from './InfoTooltip.js';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport {AuthContext} from '../contexts/AuthContext';\nimport auth from '../utils/Auth';\n\nfunction App() {\n    const [currentUser, setCurrentUser] = useState({})\n    const [emailData, setEmailData] = useState('')\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false)\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false)\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false)\n    const [selectedCard, setSelectedCard] = useState(null)\n    const [cards, setCards] = useState([])\n    const {isLoggedIn, setupLoggedIn} = useContext(AuthContext)\n    const history = useHistory()\n    const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false)\n    const [isInfoTooltipSuccess, setIsInfoTooltipSuccess] = useState(false)\n\n      useEffect( () => {\n        Promise.all([api.getUserInfo(), api.getInitialCards()])\n        .then(([ userData, cards ]) => { \n            setCurrentUser(userData)\n            setCards(cards)  \n        })\n        .catch((err) => {\n            console.log(err);\n          }); \n      }, [] )\n\n      useEffect( () => {\n        tokenCheck()\n      }, [] )\n\n      function tokenCheck () {\n        const token = localStorage.getItem('jwt')\n\n        if (token){\n          auth.authorization(token)\n          .then( (res) => {\n              if(res){\n                setupLoggedIn(true)\n                history.push('/')\n                setEmailData(res.data.email)\n              }\n          })\n          .catch((err) => console.log(err))\n        }\n      } \n\n      function handleCardLike(card) {\n        // Снова проверяем, есть ли уже лайк на этой карточке\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n        \n        // Отправляем запрос в API и получаем обновлённые данные карточки\n        api.like(card._id, !isLiked)\n        .then((newCard) => {\n            setCards((state) => state.map((c) => \n              c._id === card._id ? newCard : c));\n        })\n        .catch((err) => {\n            console.log(err);\n          });;\n    }\n    \n    function handleCardDelete(card) {\n      api.deleteCard(card._id)\n      .then(() => {\n        // console.log(newCard)\n          setCards((cards) => [...cards].filter(c => c._id !== card._id));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    }\n\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true)\n    }\n\n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true)\n    }\n\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true)\n    }\n\n    function handleCardClick(card) {\n        setSelectedCard(card)\n    }\n\n    function closeAllPopups() {\n        setIsEditAvatarPopupOpen(false)\n        setIsEditProfilePopupOpen(false)\n        setIsAddPlacePopupOpen(false)\n        setSelectedCard(null)\n        setIsInfoTooltipOpen(false)\n    }\n\n    function handleUpdateUser(userInfo) {\n        api.updateUserInfo(userInfo)\n        .then((userInfo) => {\n            setCurrentUser(userInfo)\n            closeAllPopups()\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }\n\n    function handleUpdateAvatar(avatar) {\n        api.editAvatar(avatar)\n        .then((avatar) => {\n            setCurrentUser(avatar)\n            closeAllPopups()\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }\n\n    function handleAddPlace (newCard) {\n        api.postCard(newCard)\n        .then((newCard) => {\n            setCards([newCard, ...cards]);\n            closeAllPopups()\n        })\n        .catch((err) => {\n            console.log(err);\n          });\n    }\n\n    function handleSignOut() {\n        localStorage.removeItem('jwt');\n            setupLoggedIn(false)\n            history.push('/sign-in')\n    }\n\n    function handleRegister({password, email}) {\n        auth.register(password, email)\n        .then(() => {\n            history.push('/sign-in')\n            setIsInfoTooltipSuccess(true)\n        })\n        .catch((err) => {\n            setIsInfoTooltipSuccess(false);\n            history.push('/sign-up')\n            console.log(err)\n        })\n        .finally(() => {\n            setIsInfoTooltipOpen(true);\n          });\n    }\n\n    function handleLogin({password, email}) {\n        auth.login(password, email)\n        .then((res) => {\n            if (res.token){\n                localStorage.setItem('jwt', res.token)\n                setEmailData(email)\n                setupLoggedIn(true)\n                history.push('/');\n            }\n        })\n        .catch(err => console.log(err));\n    }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"page\">\n            <div className=\"page__container\">\n                <Header email={emailData} onSignOut={handleSignOut}/>\n\n                <Switch>\n                    <Route path=\"/sign-up\">\n                        <Register onRegister={handleRegister}/>\n                    </Route>\n\n                    <Route path=\"/sign-in\">\n                        <Login onLogin={handleLogin}/>\n                    </Route>\n\n                    <ProtectedRoute exact path=\"/\" loggedIn={isLoggedIn}>\n                        <Main \n                            onCardClick={handleCardClick} \n                            onEditProfile={handleEditProfileClick} \n                            onAddPlace={handleAddPlaceClick} \n                            onEditAvatar={handleEditAvatarClick} \n                            cards={cards}\n                            onCardLike={handleCardLike}\n                            onCardDelete={handleCardDelete} />\n\n                        \n                    </ProtectedRoute>\n                </Switch>\n\n                <EditProfilePopup \n                    onUpdateUser={handleUpdateUser} \n                    isOpen={isEditProfilePopupOpen} \n                    onClose={closeAllPopups} />\n\n                <AddPlacePopup \n                    onAddPlace={handleAddPlace} \n                    isOpen={isAddPlacePopupOpen} \n                    onClose={closeAllPopups}/>\n\n                <PopupWithForm name=\"confirm\" heading=\"Вы уверены?\" saveButtonValue=\"Сохранить\" />\n\n                <EditAvatarPopup \n                    onUpdateAvatar={handleUpdateAvatar} \n                    isOpen={isEditAvatarPopupOpen} \n                    onClose={closeAllPopups} />\n\n                <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\n                <InfoTooltip \n                    isOpen={isInfoTooltipOpen}\n                    isSuccess={isInfoTooltipSuccess}\n                    onClose={closeAllPopups}\n                />\n                <Footer />\n            </div>\n\n        </div>\n    </CurrentUserContext.Provider>\n);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport '../src/index.css';\nimport App from './components/App';\nimport { AuthContextWrapper } from './contexts/AuthContext';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <BrowserRouter> \n    <AuthContextWrapper>\n      <App />\n      </AuthContextWrapper>  \n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}